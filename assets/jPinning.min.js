!function(a){a.fn.jPinning=function(b){var c={delay:0,onPin:function(){},onUnpin:function(){}},d=a.extend({},c,b),e={lastScrollTop:0,window:a(window),status:"pinned"},f={debounce:function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}},isUnpinned:function(){return"unpinned"==e.status?!0:!1},isPinned:function(){return"pinned"==e.status?!0:!1},prepare:function(){e.target.addClass("pinning-nav"),e.target.css("position","fixed")},pin:function(){f.isUnpinned()&&(e.status="pinned",e.target.removeClass("unpinned").addClass("pinned"),d.onPin.call(e.target))},unpin:function(){f.isPinned()&&(e.status="unpinned",e.target.removeClass("pinned top").addClass("unpinned"),d.onUnpin.call(e.target))},pinHandler:function(){var b=a(window).scrollTop();0==b&&e.target.addClass("top"),b>=e.lastScrollTop?f.unpin():f.pin(),e.lastScrollTop=b}};return this.each(function(){e.target=a(this),f.prepare(),a(window).on("scroll",f.debounce(f.pinHandler,d.delay))})}}(jQuery);